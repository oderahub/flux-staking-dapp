specVersion: 1.3.0
indexerHints:
  prune: auto
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: StakingContract
    network: sepolia
    source:
      address: '0x8C9847b4D726c2461C1b45dFA17A07da8B82DaC2'
      abi: StakingContract
      startBlock: 9177631
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Stake
        - Withdraw
        - EmergencyWithdraw
        - RewardsClaimed
        - RewardRateUpdate
        - Transaction
      abis:
        - name: StakingContract
          file: ./abis/StakingContract.json
      eventHandlers:
        - event: EmergencyWithdrawn(indexed address,uint256,uint256,uint256,uint256)
          handler: handleEmergencyWithdrawn
        - event: RewardRateUpdated(uint256,uint256,uint256,uint256)
          handler: handleRewardRateUpdated
        - event: RewardsClaimed(indexed address,uint256,uint256,uint256,uint256)
          handler: handleRewardsClaimed
        - event: Staked(indexed address,uint256,uint256,uint256,uint256)
          handler: handleStaked
        - event: Withdrawn(indexed address,uint256,uint256,uint256,uint256)
          handler: handleWithdrawn
      file: ./src/staking-contract.ts

  - kind: ethereum
    name: MockToken
    network: sepolia
    source:
      address: '0x2E8A552D9fB14678Bdf46Ac68c209A69AFD7Ce7f'
      abi: MockToken
      startBlock: 9177631
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Token
        - Account
        - Approval
          - Transfer
      abis:
        - name: MockToken
          file: ./abis/MockToken.json
      eventHandlers:
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
      file: ./src/mock-token.ts
